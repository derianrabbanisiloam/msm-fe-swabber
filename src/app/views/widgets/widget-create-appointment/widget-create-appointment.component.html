<div *ngFor="let alert of alerts" class="alert-fixed-div">
  <ngb-alert *ngIf="alert" type="{{cssAlertType(alert)}}" (close)="removeAlert(alert)">{{ alert.message }}</ngb-alert>
</div>

<div class="fd-column" id="tutorial4">
  <div>
    <div class="content-header-container" *ngIf="fromBpjs == true && fromRegistration == false && flagCreateNewApp == false">
      <div class="content-doctor-schedule-group-1 custom-app-bpjs">
        <div class="left-text">{{patFromBpjs.patient_name}}, {{patFromBpjs.patient_birth_date}}</div>
        <div class="left-text">Preferred Consultation Date: {{patFromBpjs.appointment_date}}</div>
      </div>
    </div>
  </div>
  <div class="jc-space-between content-appointment-01-group-col">
    <div *ngIf="isOriginal" style="padding: 0.2vw">
      <div class="d-flex justify-content-start cc_container_btn_topleft">
        <div class="btn" style="background: white; padding: 0.2vw 0.5vw" *ngIf="fromBpjs == false" (click)="prevPage()">
          <img style="width: 1vw" src="{{assetPath}}icons/ic_BackGreen@2x.png">
        </div>
        <div class="btn" style="background: white; padding: 0.2vw 0.5vw" *ngIf="fromBpjs == true" (click)="prevPageTwo()">
          <img style="width: 1vw" src="{{assetPath}}icons/ic_BackGreen@2x.png">
        </div>
        <div>
          <button class="btn btn-green" (click)="openScheduleBlockModal()">Manage Block</button>
        </div>
      </div>
    </div>
    <div class="" style="margin-bottom: 1vw">
      <div class="header-2 center-text">{{doctorName}}</div>
      <div class="body-text center-text"><span class="bold">Hospital:</span> {{hospitalName}}</div>
    </div>
    <div></div>
  </div>

  <div *ngIf="doctorNotes || scheduleBlocks?.length" class="notes-container d-flex justify-content-start">
    <div>
      <img class="icon" src="{{assetPath}}icons/ic_Warning.png">
    </div>
    <div class="">
      <div class="bold">Important Notes:</div>
      <div>
        <div *ngFor="let note of doctorNotes">
          - {{ note.note }}
        </div>
        <div *ngFor="let block of scheduleBlocks">
          - Block from {{block.from_time}} to {{block.to_time}}. Reason : {{block.reason}}. Modified by:
          {{block.modified_name}}
        </div>
      </div>
    </div>
  </div>

  <div class="content-appointment-01-group-col-2" *ngFor="let schArray of appList; let i=index;">
    <div>
      <table class="table shadow-4" id="tutorial8">
        <thead *ngFor="let schList of schedule">
          <tr *ngIf="schList.schedule_id === schArray.schedule_id">
            <th *ngIf="schArray.consultation_type_id != 4" colspan="11" class="header-2 left-text no-padding center-text" style="padding: 1rem 1rem">
              {{ appDateDisplay }} | Floor {{ schList.floor_name }} - Wing {{ schList.wing_name }} - Room
              {{ schList.room_name }} ( {{ schList.from_time }} - {{ schList.to_time }} )
            </th>
            <th *ngIf="schArray.consultation_type_id == 4" colspan="11" class="header-2 left-text no-padding center-text" style="padding: 1rem 1rem">
              <span style="font-weight: bold;">Teleconsultation</span> <span class="flag-tele">TELE</span> 
              {{ appDateDisplay }}
            </th>
          </tr>
          <tr class="column-header foot-note blue table-title" *ngIf="schList.schedule_id === schArray.schedule_id">
            <th *ngFor="let header of table1Header">{{header}}</th>
          </tr>
        </thead>
        <tbody *ngIf="schArray.consultation_type_id != 4 && schArray.consultation_type_id != 6 && !fromBpjs">
          <tr *ngFor="let app of schArray.appointment; let i=index"
            [ngClass]="{'cc_row_rescheduled': app.is_blocked == true || isOpen == false && app.is_walkin == true && reschBpjs == false || app.is_reserved_slot == true }">
            <td class="st-kolom-time">{{app.appointment_range_time}}</td>
            <td>
              {{app.no}}
              <span *ngIf="app.channel_id == 15" style="padding-right: 0; margin-right: -2em;">
                <img class="icon_bpjs" src="{{assetPath}}icons/bpjs_logo.png">
              </span>
            </td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == false && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="openCreateAppModal(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == true && isOpen == true && app.is_reserved_slot == false"
              class="st-kolom-available" (click)="openCreateAppModal(app)"><a>Available/Walk In Slot</a></td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == true && isOpen == false && app.is_reserved_slot == false"
              class="st-kolom-available">
              <span style="color:red;font-weight:bold">Not Yet Opened</span>
            </td>
            <td *ngIf="app.is_can_create && !isOriginal && app.is_walkin == false && reschBpjs == false && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="openCreateAppModal2(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && app.is_walkin == true && isOpen == true && reschBpjs == false && app.is_reserved_slot == false"
              class="st-kolom-available" (click)="openCreateAppModal2(app)"><a>Available/Walk In Slot</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && app.is_walkin == true && isOpen == false && reschBpjs == false && app.is_reserved_slot == false"
              class="st-kolom-available">
              <span style="color:red;font-weight:bold">Not Yet Opened</span>
            </td>

            <td *ngIf="app.is_can_create && app.is_reserved_slot == true" class="st-kolom-available">
              <span style="color:black;font-weight:bold">Slot temporarily reserved</span>
            </td>

            <!-- reschedule bpjs -->
            <td *ngIf="app.is_can_create && !isOriginal && reschBpjs == true && app.is_walkin == false && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="openCreateAppModal2(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && reschBpjs == true && app.is_walkin == true && isOpen == true && app.is_reserved_slot == false"
            class="st-kolom-available" (click)="openCreateAppModal2(app)"><a>Available/Walk In Slot</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && reschBpjs == true && app.is_walkin == true && isOpen == false && app.is_reserved_slot == false"
              class="st-kolom-available">
              <span style="color:red;font-weight:bold">Not Yet Opened</span>
            <!-- reschedule bpjs -->
            <td *ngIf="!app.is_can_create">
              {{app.patient_name}}
              <span *ngIf="app.appointment_temp_id" class="newPatientIcon">
                <span>
                  Tentative
                  <span>
                    Please verify this patient first
                  </span>
                </span>
              </span>
            </td>
            <td>{{app.date_of_birth}}</td>
            <td>{{app.local_mr_no}}</td>
            <td>{{app.phone_no}}</td>
            <td>{{app.queue_no}}</td>
            <td>
              <a ngbPopover="{{app.note_long}}" popoverTitle="" triggers="mouseenter:mouseleave">{{app.note_short}}</a>
            </td>
            <td>
              <a ngbPopover="{{app.modified_name}}" popoverTitle=""
                triggers="mouseenter:mouseleave">{{app.modified_name && app.modified_name.length > 10 ? app.modified_name.substr(0,10)+"..." : app.modified_name}}</a>
            </td>
            <td>
              <div *ngIf="app.channel_id != aidoChannel">
                <div *ngIf="!app.appointment_temp_id">
                  <div *ngIf="app.is_can_cancel && isOriginal && !app.admission_id && app.channel_id != 15"
                    class="cell-img-nav d-flex justify-content-center">
                    <div *ngIf="isOpen" (click)="checkInAppointment(app, confirmCheckIn)">
                      <img src="{{assetPath}}icons/ic_Check@2x.png">
                    </div>
                    <span style="opacity: 0; max-width: 0.5em; overflow: hidden">filler</span>
                    <div (click)="confirmCancelAppointment(app.appointment_id)">
                      <img src="{{assetPath}}icons/ic_Cancel@2x.png">
                    </div>
                  </div>
  
                  <div *ngIf="app.is_can_cancel && isOriginal && app.admission_id"
                    class="cell-img-nav d-flex justify-content-center">
                    <span class="badge badge-success">Checked in</span>
                  </div>
                </div>
  
                <div *ngIf="app.appointment_temp_id">
                  <button (click)="verifyAppointment(app.appointment_temp_id)" class="btn ms_btn_green">Verify</button>
                  <span class="filler-05"></span>
                  <button (click)="confirmCancelAppointment(app.appointment_temp_id, true)"
                    class="btn ms_btn_red">Cancel</button>
                </div>
              </div>

              <!-- button action for teleconsultation -->
              <div *ngIf="app.channel_id == aidoChannel" style="width: 4em;">
                <div *ngIf="app.payment_status_id === payStatusId.UNPAID">
                  <span class="flag-payment">Waiting Payment</span>
                </div>
                <div *ngIf="app.admission_status_id != 2 && app.appointment_status_id !== appStatusId.INACTIVE && app.payment_status_id === payStatusId.PAID">
                  <div *ngIf="app.patient_hope_id && app.patient_organization_id && app.is_double_mr === false">
                    <button (click)="createAdmModal(app, confirmAdmission)" class="btn ms_btn_green" style="font-size: 11px;">Check In</button>
                  </div>
                  <div *ngIf="app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === false">
                    <button (click)="createMrModal(app, confirmCreateMr)" class="btn ms_btn_black" style="font-size: 11px;">Create MR</button>
                  </div>
                  <div *ngIf="(!app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === true)
                  || (app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === true)
                  || (!app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === false)">
                    <button (click)="verifyAppointmentTele(app)" class="btn ms_btn_blue" style="font-size: 10px;">Verify MR</button>
                  </div>
                </div>

                <div *ngIf="app.admission_status_id == 2" class="cell-img-nav d-flex justify-content-center">
                  <span class="badge badge-success set-position">Checked in</span>
                </div>
              </div>
              <!-- button action for teleconsultation -->
            </td>
          </tr>
        </tbody>
        <tbody *ngIf="schArray.consultation_type_id != 4 && fromBpjs">
          <tr *ngFor="let app of schArray.appointment; let i=index"
            [ngClass]="{'cc_row_rescheduled': app.is_blocked == true || isOpen == false && app.is_walkin == true || app.is_reserved_slot == true }">
            <td class="st-kolom-time">{{app.appointment_range_time}}</td>
            <td>
              {{app.no}}
              <span *ngIf="app.channel_id == 15" style="padding-right: 0; margin-right: -2em;">
                <img class="icon_bpjs" src="{{assetPath}}icons/bpjs_logo.png">
              </span>
            </td>

            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == false && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="createAppBPJSOnly(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == true && isOpen == true && app.is_reserved_slot == false"
              class="st-kolom-available" (click)="createAppBPJSOnly(app)"><a>Available/Walk In Slot</a></td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == true && isOpen == false && app.is_reserved_slot == false"
              class="st-kolom-available">
              <span style="color:red;font-weight:bold">Not Yet Opened</span>
            </td>

            <td *ngIf="app.is_can_create && app.is_reserved_slot == true"
              class="st-kolom-available">
              <span style="color:black;font-weight:bold">Slot temporarily reserved</span>
            </td>

            <!-- reschedule bpjs -->
            <td *ngIf="app.is_can_create && !isOriginal && reschBpjs == true && app.is_walkin == false && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="openCreateAppModal2(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && reschBpjs == true && app.is_walkin == true && isOpen == true && app.is_reserved_slot == false"
            class="st-kolom-available" (click)="openCreateAppModal2(app)"><a>Available/Walk In Slot</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && reschBpjs == true && app.is_walkin == true && isOpen == false && app.is_reserved_slot == false"
              class="st-kolom-available">
              <span style="color:red;font-weight:bold">Not Yet Opened</span>
            <!-- reschedule bpjs -->
            
            <td *ngIf="!app.is_can_create">
              {{app.patient_name}}
              <span *ngIf="app.appointment_temp_id" class="newPatientIcon">
                <span>
                  Tentative
                  <span>
                    Please verify this patient first
                  </span>
                </span>
              </span>
            </td>
            <td>{{app.date_of_birth}}</td>
            <td>{{app.local_mr_no}}</td>
            <td>{{app.phone_no}}</td>
            <td>{{app.queue_no}}</td>
            <td>
              <a ngbPopover="{{app.note_long}}" popoverTitle="" triggers="mouseenter:mouseleave">{{app.note_short}}</a>
            </td>
            <td>
              <a ngbPopover="{{app.modified_name}}" popoverTitle=""
                triggers="mouseenter:mouseleave">{{app.modified_name && app.modified_name.length > 10 ? app.modified_name.substr(0,10)+"..." : app.modified_name}}</a>
            </td>
            <td class="st-kolom-button">
              <div *ngIf="!app.appointment_temp_id">
                <div *ngIf="app.is_can_cancel && isOriginal && !app.admission_id && app.channel_id == 15"
                  class="cell-img-nav d-flex justify-content-center">
                  <div *ngIf="isOpen" (click)="checkInBpjsApp(app, confirmCheckInTwo)">
                    <img src="{{assetPath}}icons/ic_Check@2x.png">
                  </div>
                  <span style="opacity: 0; max-width: 0.5em; overflow: hidden">filler</span>
                  <div (click)="confirmCancelAppointment(app.appointment_id)">
                    <img src="{{assetPath}}icons/ic_Cancel@2x.png">
                  </div>
                </div>

                <div *ngIf="app.is_can_cancel && isOriginal && app.admission_id"
                  class="cell-img-nav d-flex justify-content-center">
                  <span class="badge badge-success">Checked in</span>
                </div>
              </div>

              <div *ngIf="app.appointment_temp_id">
                <button (click)="verifyAppointment(app.appointment_temp_id)" class="btn ms_btn_green">Verify</button>
                <span class="filler-05"></span>
                <button (click)="confirmCancelAppointment(app.appointment_temp_id, true)"
                  class="btn ms_btn_red">Cancel</button>
              </div>
            </td>
          </tr>
        </tbody>
        
        <tbody *ngIf="schArray.consultation_type_id == 4">
          <tr *ngFor="let app of schArray.appointment; let i=index"
            [ngClass]="{'cc_row_rescheduled': app.is_blocked == true || isOpen == false || app.is_reserved_slot == true}">
            <td class="st-kolom-time">{{app.appointment_range_time}}</td>
            <td>
              {{app.no}}
              <span *ngIf="app.channel_id == 15" style="padding-right: 0; margin-right: -2em;">
                <img class="icon_bpjs" src="{{assetPath}}icons/bpjs_logo.png">
              </span>
            </td>
            <td *ngIf="app.is_can_create && isOriginal && isOpen == true && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="openCreateAppModal(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && isOriginal && isOpen == false && app.is_reserved_slot == false" class="st-kolom-available">Available</td>
            <td *ngIf="app.is_can_create && !isOriginal && isOpen == true && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="openCreateAppModal2(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && isOpen == false && app.is_reserved_slot == false" class="st-kolom-available">Available</td>
            
            <td *ngIf="app.is_can_create && app.is_reserved_slot == true"
              class="st-kolom-available">
              <span style="color:black;font-weight:bold">Slot temporarily reserved</span>
            </td>
            <td *ngIf="!app.is_can_create">
              {{app.patient_name}}
              <span *ngIf="app.appointment_temp_id" class="newPatientIcon">
                <span>
                  Tentative
                  <span>
                    Please verify this patient first
                  </span>
                </span>
              </span>
            </td>
            <td>{{app.date_of_birth}}</td>
            <td>{{app.local_mr_no}}</td>
            <td>{{app.phone_no}}</td>
            <td>{{app.queue_no}}</td>
            <td>
              <a ngbPopover="{{app.note_long}}" popoverTitle="" triggers="mouseenter:mouseleave">{{app.note_short}}</a>
            </td>
            <td>
              <a ngbPopover="{{app.modified_name}}" popoverTitle=""
                triggers="mouseenter:mouseleave">{{app.modified_name && app.modified_name.length > 10 ? app.modified_name.substr(0,10)+"..." : app.modified_name}}</a>
            </td>
            <td>
              <div *ngIf="app.channel_id != aidoChannel">
                <div *ngIf="!app.appointment_temp_id && isOpen == true">
                  <div *ngIf="app.is_can_cancel && isOriginal && !app.admission_id"
                    class="cell-img-nav d-flex justify-content-center">
                    <div *ngIf="isOpen" (click)="checkInAppointment(app, confirmCheckIn)">
                      <img src="{{assetPath}}icons/ic_Check@2x.png">
                    </div>
                    <span style="opacity: 0; max-width: 0.5em; overflow: hidden">filler</span>
                    <div (click)="confirmCancelAppointment(app.appointment_id)">
                      <img src="{{assetPath}}icons/ic_Cancel@2x.png">
                    </div>
                  </div>
  
                  <div *ngIf="app.is_can_cancel && isOriginal && app.admission_id"
                    class="cell-img-nav d-flex justify-content-center">
                    <span class="badge badge-success">Checked in</span>
                  </div>
                </div>
  
                <div *ngIf="app.appointment_temp_id && isOpen == true">
                  <button (click)="verifyAppointment(app.appointment_temp_id)" class="btn ms_btn_green">Verify</button>
                  <span class="filler-05"></span>
                  <button (click)="confirmCancelAppointment(app.appointment_temp_id, true)"
                    class="btn ms_btn_red">Cancel</button>
                </div>
              </div>

              <!-- button action for teleconsultation -->
              <div *ngIf="app.channel_id == aidoChannel" style="width: 4em;">
                <div *ngIf="app.payment_status_id === payStatusId.UNPAID">
                  <span class="flag-payment">Waiting Payment</span>
                </div>
                <div *ngIf="app.admission_status_id != 2 && app.appointment_status_id !== appStatusId.INACTIVE && app.payment_status_id === payStatusId.PAID">
                  <div *ngIf="app.patient_hope_id && app.patient_organization_id && app.is_double_mr === false">
                    <button (click)="createAdmModal(app, confirmAdmission)" class="btn ms_btn_green" style="font-size: 11px;">Check In</button>
                  </div>
                  <div *ngIf="app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === false">
                    <button (click)="createMrModal(app, confirmCreateMr)" class="btn ms_btn_black" style="font-size: 11px;">Create MR</button>
                  </div>
                  <div *ngIf="(!app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === true)
                  || (app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === true)
                  || (!app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === false)">
                    <button (click)="verifyAppointmentTele(app)" class="btn ms_btn_blue" style="font-size: 10px;">Verify MR</button>
                  </div>
                </div>

                <div *ngIf="app.admission_status_id == 2" class="cell-img-nav d-flex justify-content-center">
                  <span class="badge badge-success set-position">Checked in</span>
                </div>
              </div>
              <!-- button action for teleconsultation -->
            </td>
          </tr>
        </tbody>
        <tbody *ngIf="schArray.consultation_type_id == 6">
          <tr *ngFor="let app of schArray.appointment; let i=index"
            [ngClass]="{'cc_row_rescheduled': app.is_blocked == true || isOpen == false && app.is_walkin == true || app.is_reserved_slot == true }">
            <td class="st-kolom-time">{{app.appointment_range_time}}</td>
            <td>
              {{app.no}}
              <span *ngIf="app.channel_id == 15" style="padding-right: 0; margin-right: -2em;">
                <img class="icon_bpjs" src="{{assetPath}}icons/bpjs_logo.png">
              </span>
            </td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == false && app.is_reserved_slot == false" class="st-kolom-available"
              (click)="openCreateAppModal(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == true && isOpen == true && app.is_reserved_slot == false"
              class="st-kolom-available" (click)="openCreateAppModal(app)"><a>Available/Walk In Slot</a></td>
            <td *ngIf="app.is_can_create && isOriginal && app.is_walkin == true && isOpen == false && app.is_reserved_slot == false"
              class="st-kolom-available">
              <span style="color:red;font-weight:bold">Not Yet Opened</span>
            </td>
            <td *ngIf="app.is_can_create && app.is_reserved_slot == true"
              class="st-kolom-available">
              <span style="color:black;font-weight:bold">Slot temporarily reserved</span>
            </td>
            
            <td *ngIf="app.is_can_create && !isOriginal && app.is_walkin == false" class="st-kolom-available"
              (click)="openCreateAppModal2(app)"><a>Available</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && app.is_walkin == true && isOpen == true"
              class="st-kolom-available" (click)="openCreateAppModal2(app)"><a>Available/Walk In Slot</a></td>
            <td *ngIf="app.is_can_create && !isOriginal && app.is_walkin == true && isOpen == false"
              class="st-kolom-available">
              <span style="color:red;font-weight:bold">Not Yet Opened</span>
            </td>
            <td *ngIf="!app.is_can_create">
              {{app.patient_name}}
              <span *ngIf="app.appointment_temp_id" class="newPatientIcon">
                <span>
                  Tentative
                  <span>
                    Please verify this patient first
                  </span>
                </span>
              </span>
            </td>
            <td>{{app.date_of_birth}}</td>
            <td>{{app.local_mr_no}}</td>
            <td>{{app.phone_no}}</td>
            <td>{{app.queue_no}}</td>
            <td>
              <a ngbPopover="{{app.note_long}}" popoverTitle="" triggers="mouseenter:mouseleave">{{app.note_short}}</a>
            </td>
            <td>
              <a ngbPopover="{{app.modified_name}}" popoverTitle=""
                triggers="mouseenter:mouseleave">{{app.modified_name && app.modified_name.length > 10 ? app.modified_name.substr(0,10)+"..." : app.modified_name}}</a>
            </td>
            <td>
              <div *ngIf="app.channel_id != aidoChannel">
                <div *ngIf="!app.appointment_temp_id">
                  <div *ngIf="app.is_can_cancel && isOriginal && !app.admission_id"
                    class="cell-img-nav d-flex justify-content-center">
                    <div *ngIf="isOpen" (click)="checkInAppointment(app, confirmCheckIn)">
                      <img src="{{assetPath}}icons/ic_Check@2x.png">
                    </div>
                    <span style="opacity: 0; max-width: 0.5em; overflow: hidden">filler</span>
                    <div (click)="confirmCancelAppointment(app.appointment_id)">
                      <img src="{{assetPath}}icons/ic_Cancel@2x.png">
                    </div>
                  </div>
  
                  <div *ngIf="app.is_can_cancel && isOriginal && app.admission_id"
                    class="cell-img-nav d-flex justify-content-center">
                    <span class="badge badge-success">Checked in</span>
                  </div>
                </div>
  
                <div *ngIf="app.appointment_temp_id">
                  <button (click)="verifyAppointment(app.appointment_temp_id)" class="btn ms_btn_green">Verify</button>
                  <span class="filler-05"></span>
                  <button (click)="confirmCancelAppointment(app.appointment_temp_id, true)"
                    class="btn ms_btn_red">Cancel</button>
                </div>
              </div>

              <!-- button action for teleconsultation -->
              <div *ngIf="app.channel_id == aidoChannel" style="width: 4em;">
                <div *ngIf="app.payment_status_id === payStatusId.UNPAID">
                  <span class="flag-payment">Waiting Payment</span>
                </div>
                <div *ngIf="app.admission_status_id != 2 && app.appointment_status_id !== appStatusId.INACTIVE && app.payment_status_id === payStatusId.PAID">
                  <div *ngIf="app.patient_hope_id && app.patient_organization_id && app.is_double_mr === false">
                    <button (click)="createAdmModal(app, confirmAdmission)" class="btn ms_btn_green" style="font-size: 11px;">Check In</button>
                  </div>
                  <div *ngIf="app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === false">
                    <button (click)="createMrModal(app, confirmCreateMr)" class="btn ms_btn_black" style="font-size: 11px;">Create MR</button>
                  </div>
                  <div *ngIf="(!app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === true)
                  || (app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === true)
                  || (!app.patient_hope_id && !app.patient_organization_id && app.is_double_mr === false)">
                    <button (click)="verifyAppointmentTele(app)" class="btn ms_btn_blue" style="font-size: 10px;">Verify MR</button>
                  </div>
                </div>

                <div *ngIf="app.admission_status_id == 2" class="cell-img-nav d-flex justify-content-center">
                  <span class="badge badge-success">Checked in</span>
                </div>
              </div>
              <!-- button action for teleconsultation -->
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--                              Waiting List                                -->
    <div *ngIf="schArray.doctor_type_name !== doctorType.FCFS">
      <div *ngIf="schArray.consultation_type_id != '4' && schArray.is_allow_waiting_list == true">
        <div *ngFor="let appWait of appListWaiting">
          <div class="col-md-12" *ngIf="appWait.schedule_id === schArray.schedule_id">
            <p>Total Waiting List : <strong>{{appWait.appointment.length - 1}}</strong></p>
          </div>
          <table class="table shadow-4" *ngIf="appWait.schedule_id === schArray.schedule_id">
            <thead>
              <tr>
                <th colspan="10" class="header-2 left-text no-padding" style="padding: 1rem 1rem">Waiting List</th>
              </tr>
              <tr class="column-header foot-note blue table-title">
                <th *ngFor="let header of table2Header">{{header}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let app of appWait.appointment" [ngClass]="{'cc_row_rescheduled': app.is_blocked == true}">
                <td class="st-kolom-time">{{app.appointment_range_time}}</td>
                <td>
                  {{app.no}}
                  <span *ngIf="app.channel_id == 15" style="padding-right: 0; margin-right: -2em;">
                    <img class="icon_bpjs" src="{{assetPath}}icons/bpjs_logo.png">
                  </span>
                </td>
                <td *ngIf="app.is_can_create && isOriginal && fromBpjs == false" class="st-kolom-available" (click)="openCreateAppModal(app)">
                  <a>Available</a></td>
                <td *ngIf="app.is_can_create && isOriginal && fromBpjs == true" class="st-kolom-available" (click)="createAppBPJSOnly(app)">
                  <a>Available</a></td>
                <td *ngIf="app.is_can_create && !isOriginal" class="st-kolom-available" (click)="openCreateAppModal2(app)">
                  <a>Available</a></td>
                <td *ngIf="!app.is_can_create">
                  {{app.patient_name}}
                  <span class="newPatientIcon">
                    <span *ngIf="app.appointment_temp_id">
                      Tentative
                      <span>
                        Please verify this patient first
                      </span>
                    </span>
                  </span>
                </td>
                <td>{{app.date_of_birth}}</td>
                <td>{{app.local_mr_no}}</td>
                <td>{{app.phone_no}}</td>
                <td>{{app.queue_no}}</td>
                <td>
                  <a ngbPopover="{{app.note_long}}" popoverTitle="" triggers="mouseenter:mouseleave">{{app.note_short}}</a>
                </td>
                <td>
                  <a ngbPopover="{{app.modified_name}}" popoverTitle=""
                    triggers="mouseenter:mouseleave">{{app.modified_name && app.modified_name.length > 10 ? app.modified_name.substr(0,10)+"..." : app.modified_name}}</a>
                </td>
                <td class="st-kolom-button">
      
                  <div *ngIf="!app.appointment_temp_id">
                    <div *ngIf="app.is_can_cancel && isOriginal && !app.admission_id"
                      class="cell-img-nav d-flex justify-content-center">
                      <div *ngIf="isOpen && app.channel_id != 15" (click)="checkInAppointment(app, confirmCheckIn)">
                        <img src="{{assetPath}}icons/ic_Check@2x.png">
                      </div>
                      <div *ngIf="isOpen && app.channel_id == 15" (click)="checkInBpjsApp(app, confirmCheckInTwo)">
                        <img src="{{assetPath}}icons/ic_Check@2x.png">
                      </div>
                      <span style="opacity: 0; max-width: 0.5em; overflow: hidden">filler</span>
                      <div (click)="confirmCancelAppointment(app.appointment_id)">
                        <img src="{{assetPath}}icons/ic_Cancel@2x.png">
                      </div>
                    </div>
      
                    <div *ngIf="app.is_can_cancel && isOriginal && app.admission_id"
                      class="cell-img-nav d-flex justify-content-center">
                      <span class="badge badge-success">Checked in</span>
                    </div>
                  </div>
      
                  <div *ngIf="app.appointment_temp_id">
                    <button (click)="verifyAppointment(app.appointment_temp_id)" class="btn ms_btn_green">Verify</button>
                    <span class="filler-05"></span>
                    <button (click)="confirmCancelAppointment(app.appointment_temp_id, true)"
                      class="btn ms_btn_red">Cancel</button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
    </div>

    <div *ngIf="i < schLength - 1">
      <hr class="line-border">
    </div>
    
  </div>
</div>


<ng-template #confirmCheckIn let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Confirmation</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="late">
      <p style="color:red;">
        <font size="4"><b>Pasien Terlambat {{late}}</b></font>
      </p>
    </div>
    <p>Are you sure to check in this appointment ?</p>
    <div class="fo_confirmation_button d-flex justify-content-center">
      <button type="button" class="btn fo_btn_green"
        (click)="confirmCheckInValue(selectedCheckIn, checkInOldPatient, confirmLocalMrCreate)"
        (click)="c('Cross click')">Ok</button>
      <div *ngIf="late">
        <button type="button" class="btn fo_btn_blue" (click)="openRescheduleModal(selectedCheckIn)"
          (click)="c('Cross click')">Reschedule</button>
      </div>
      <button type="button" class="btn fo_btn_black" (click)="c('Cross click')">Cancel</button>
    </div>
  </div>
</ng-template>

<ng-template #confirmCheckInTwo let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Confirmation</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="late">
      <p style="color:red;">
        <font size="4"><b>Pasien Terlambat {{late}}</b></font>
      </p>
    </div>
    <p>Are you sure to check in this appointment?</p>
    <div class="fo_confirmation_button d-flex justify-content-center">
      <button type="button" class="btn fo_btn_green"
        (click)="confirmCheckInValue(selectedCheckIn, confirmDocument, confirmLocalMrCreate)"
        (click)="c('Cross click')">Ok</button>
      <div *ngIf="late">
        <button type="button" class="btn fo_btn_blue" (click)="openRescheduleModal(selectedCheckIn)"
          (click)="c('Cross click')">Reschedule</button>
      </div>
      <button type="button" class="btn fo_btn_black" (click)="c('Cross click')">Cancel</button>
    </div>
  </div>
</ng-template>
<!-- <ng-template #checkInOldPatient let-c="close" let-d="dismiss">
  <div class="modal-header">
    <span class="modal-title header-2"> {{ selectedCheckIn.contact_name }}&nbsp;|&nbsp;Create Admission</span>
    <button #close_adm type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true"><img style="width: 1rem;height: 1rem" src="{{assetPath}}icons/ic_Cross@2x.png"></span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <div *ngFor="let alert of alerts">
        <ngb-alert *ngIf="alert" type="{{cssAlertType(alert)}}" (close)="removeAlert(alert)">{{ alert.message }}
        </ngb-alert>
      </div>
    </div>
    <div class="fo_create_admission_body ">
      <div class="" style="width: 100%">
        <div class="d-flex justify-content-start">
          <div class="" style="width: 10%; min-width: 60px">
            <label class="">MR No.</label>
            <div class="">
              <input type="text" class="form-control" name="mr_no" [(ngModel)]="selectedCheckIn.medical_record_number"
                readonly>
            </div>
          </div>
          <div style="width: 10%; min-width: 120px">
            <label class="" style="white-space: nowrap;">Reg. admission date</label>
            <div class="input-group">
              <input type="text" class="form-control" name="admission_date" [(ngModel)]="dateAdmission" readonly>
            </div>
          </div>
          <div style="width: -webkit-fill-available;">
            <label class="">Name</label>
            <div class="">
              <input type="text" class="form-control" name="patient" [(ngModel)]="selectedCheckIn.contact_name"
                readonly>
            </div>
          </div>
          <div style="width: 10%; min-width: 100px">
            <label class="">Birth Date</label>
            <div class="input-group">
              <input type="text" class="form-control" name="birthDate" [(ngModel)]="selectedCheckIn.custome_birth_date"
                readonly>
            </div>
          </div>
          <div class="form-group" style="width: -webkit-fill-available">
            <label class="">Address</label>
            <div class="">
              <input type="text" class="form-control" name="address" [(ngModel)]="selectedCheckIn.current_address"
                readonly>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-start">
          <div class="" style="width: 17%">
            <label class="">Referal Type</label>
            <div class="">
              <input type="text" class="form-control" name="selfReferal" [(ngModel)]="selectedReferral.description"
                readonly>
            </div>
          </div>
          <div style="width: 15%; min-width: 100px">
            <label class="">Mobile Phone</label>
            <div class="input-group">
              <input type="text" class="form-control" name="phone" [(ngModel)]="selectedCheckIn.phone_number" readonly>
            </div>
          </div>
          <div style="width: 30%">
            <label class="">Admission Type</label>
            <div class="input-group">
              <input type="text" class="form-control" name="admission_type"
                [(ngModel)]="selectedAdmissionType.description" readonly>
            </div>
          </div>
          <div class="form-group" style="width: 50%">
            <label class="">Doctor</label>
            <div class="input-group">
              <input type="text" class="form-control" name="doctor_name" [(ngModel)]="selectedCheckIn.doctor_name"
                readonly>
            </div>
          </div>
          
          <div class="form-group" style="width: 50%" *ngIf="fromBpjs">
            <label class="">No. Surat Keterangan</label>
            <div class="input-group">
              <input type="text" class="form-control" name="surat_keterangan" readonly>
            </div>
          </div>
          
        </div>
      </div>
      <div *ngIf="!selectedCheckIn.admission_id" style="border-top: 0.5px solid #C1C1C1">
        <div class="d-flex justify-content-between">
            <div style="width: 20%">
                <label class="">Patient Type</label>
                <div class="">
                  <select id="title" class="form-control" required (change)="changeCondition($event)"
                    name="dropDownPatientType">
      
                    <option *ngFor="let itr of patientTypeList" [ngValue]="itr" [disabled]="itr.description == 'EMPLOYEE'"
                      [selected]="(itr.description == 'KITAS' && nationalIdTypeId == 4) || (itr.description == 'PASSPORT' && nationalIdTypeId == 3)
                        || itr.description == 'PRIVATE' && nationalIdTypeId == 1 || (itr.description == 'PRIVATE' && nationalIdTypeId == 2) || (itr.description == 'PRIVATE' && nationalIdTypeId == 5) || (itr.description == 'PRIVATE' && nationalIdTypeId == '')">
                      {{itr.description}}</option>
      
                  </select>
                  <input type="hidden" name="patientType" [(ngModel)]="patientType">
                </div>
            </div>
            <div style="width: 40%">
              <label class="">Room / Location</label>
              <div class="input-group">
                <select class="form-control" [(ngModel)]="roomHope" name="dropDownRoom">
                  <option *ngFor="let itr of listRoomHope" [ngValue]="itr">
                    {{itr.name}} - {{itr.code}}
                  </option>
                </select>
              </div>
            </div>
            <div style="width: 40%">
            </div>
          </div>
        <div class="d-flex justify-content-between">
          <div style="width: 40%">
            <label class="">Payer</label>
            <div class="">
              <input class="form-control" ngui-auto-complete auto-select-first-item="true" max-num-list="20"
                value-formatter="name" list-formatter="name" [match-formatted]="true" min-chars="3" [source]="listPayer"
                name="payer" [(ngModel)]="payer" [disabled]="txtPayer">
            </div>
          </div>
          <div style="width: 30%">
            <label class="">Payer No</label>
            <div class="input-group">
              <input type="text" class="form-control" name="payerNo" [(ngModel)]="payerNo" [disabled]="txtPayerNo">
            </div>
          </div>
          <div style="width: 30%">
            <label class="">Payer Eligibility No</label>
            <div class="input-group">
              <input type="text" class="form-control" name="payerEligibility" [(ngModel)]="payerEligibility"
                [disabled]="txtPayerEligibility">
            </div>
          </div>
        </div>
      </div>
      <div style="width: 100%" *ngIf="fromBpjs">
        
        <div class="d-flex justify-content-start">
          <div style="width: 2%">
            <div class="form-group">
              <input class="inter-checkbox" type="checkbox" name="isLakaLantas" (change)="lakaLantasVal(lakaLantas)" [(ngModel)]="isLakaLantas">
            </div>
          </div>
          <div style="width: 15%;">
            <span style="font-weight: bold;">Laka Lantas</span>
          </div>
          <div style="width: 2%">
            <div class="form-group">
              <input class="inter-checkbox" type="checkbox">
            </div>
          </div>
          <div style="width: 10%;">
            <span style="font-weight: bold;">COB</span>
          </div>
          <div style="width: 2%">
            <div class="form-group">
              <input class="inter-checkbox" type="checkbox">
            </div>
          </div>
          <div style="width: 15%;">
            <span style="font-weight: bold;">Katarak</span>
          </div>
        </div>
      
      </div>
      <div>
        <div class="d-flex justify-content-end">
          <button *ngIf="!selectedCheckIn.admission_id" class="fo_btn_admission fo_btn_save"
            [disabled]="buttonCreateAdmission || isLoadingCreateAdmission"
            (click)="createAdmission(selectedCheckIn, confirmCreateAdmissionProcess)">Create Admission</button>
          <button class="fo_btn_admission fo_btn_blue" [disabled]="buttonPatientLabel && !selectedCheckIn.admission_id"
            (click)="printPatientLabel(selectedCheckIn)">Print Patient</button>
          <button class="fo_btn_admission fo_btn_black" [disabled]="buttonPrintQueue && !selectedCheckIn.admission_id"
            (click)="printQueue(queueNumber, close_adm)">Print Queue Number</button>
        </div>
        <div class="modal-message">
          <img *ngIf="loading"
            src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
          <span *ngIf="isLoadingCreateAdmission">Loading... Please wait, we are creating the admission now...</span>
        </div>
      </div>
    </div>

    <div class="col-md-12 content-appointment-02-group-col">

      <form name="form" #f="ngForm" novalidate>

        <div class="form-group row">

        </div>

      </form>
    </div>
  </div>

</ng-template> -->
<ng-template #checkInOldPatient let-c="close" let-d="dismiss">
  <div *ngIf="isLoadingCheckEligible" class="spinner"></div>
  <div class="modal-header">
    <span class="modal-title header-2"> {{ selectedCheckIn.contact_name }}&nbsp;|&nbsp;Create Admission</span>
    <button #close_adm type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true"><img style="width: 1rem;height: 1rem" src="{{assetPath}}icons/ic_Cross@2x.png"></span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <div *ngFor="let alert of alerts">
        <ngb-alert *ngIf="alert" type="{{cssAlertType(alert)}}" (close)="removeAlert(alert)">{{ alert.message }}
        </ngb-alert>
      </div>
    </div>
    <div class="fo_create_admission_body ">
      <div class="" style="width: 100%">
        <div class="d-flex justify-content-start">
          <div class="" style="width: 10%; min-width: 60px">
            <label class="">MR No.</label>
            <div class="">
              <input type="text" class="form-control" name="mr_no" [(ngModel)]="selectedCheckIn.medical_record_number"
                readonly>
            </div>
          </div>
          <div style="width: 10%; min-width: 120px">
            <label class="" style="white-space: nowrap;">Reg. admission date</label>
            <div class="input-group">
              <input type="text" class="form-control" name="admission_date" [(ngModel)]="dateAdmission" readonly>
            </div>
          </div>
          <div style="width: -webkit-fill-available;">
            <label class="">Name</label>
            <div class="">
              <input type="text" class="form-control" name="patient" [(ngModel)]="selectedCheckIn.contact_name"
                readonly>
            </div>
          </div>
          <div style="width: 10%; min-width: 100px">
            <label class="">Birth Date</label>
            <div class="input-group">
              <input type="text" class="form-control" name="birthDate" [(ngModel)]="selectedCheckIn.custome_birth_date"
                readonly>
            </div>
          </div>
          <div class="form-group" style="width: -webkit-fill-available">
            <label class="">Address</label>
            <div class="">
              <input type="text" class="form-control" name="address" [(ngModel)]="selectedCheckIn.current_address"
                readonly>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-start">
          <div class="" style="width: 15%; min-width: 100px">
            <label class="">Referal Type</label>
            <div class="">
              <input type="text" class="form-control" name="selfReferal" [(ngModel)]="selectedReferral.description"
                readonly>
            </div>
          </div>
          <div style="width: 15%; min-width: 100px">
            <label class="">Mobile Phone</label>
            <div class="input-group">
              <input type="text" class="form-control" name="phone" [(ngModel)]="selectedCheckIn.phone_number" readonly>
            </div>
          </div>
          <div class="">
            <label class="">Admission Type</label>
            <div class="input-group">
              <input type="text" class="form-control" name="admission_type"
                [(ngModel)]="selectedAdmissionType.description" readonly>
            </div>
          </div>
          <div class="form-group" style="width: 50%">
            <label class="">Doctor</label>
            <div class="input-group">
              <input type="text" class="form-control" name="doctor_name" [(ngModel)]="selectedCheckIn.doctor_name"
                readonly>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!selectedCheckIn.admission_id" style="border-top: 0.5px solid #C1C1C1">
        <div class="d-flex justify-content-between">
            <div style="width: 20%">
                <label class="">Patient Type</label>
                <div class="">
                  <select *ngIf="!selectedCheckIn.payer_eligibility" id="title" class="form-control" required (change)="changeCondition($event)"
                    name="dropDownPatientType">
                    <option *ngFor="let itr of patientTypeList" [ngValue]="itr" [disabled]="itr.description == 'EMPLOYEE'"
                      [selected]="(itr.description == patientType.description && nationalIdTypeId == 4) 
                      || (itr.description == patientType.description && nationalIdTypeId == 3)
                      || (itr.description == patientType.description && nationalIdTypeId == 1)
                      || (itr.description == patientType.description && nationalIdTypeId == 2)
                      || (itr.description == patientType.description && nationalIdTypeId == 5)
                      || (itr.description == patientType.description && nationalIdTypeId == '')">
                      {{itr.description}}</option>
                  </select>

                  <select *ngIf="selectedCheckIn.payer_eligibility" id="title" class="form-control"
                  name="dropDownPatientType" [disabled]="true">
                    <option *ngFor="let itr of patientTypeList" [ngValue]="itr" [selected] = "(itr.value == selectedCheckIn.patient_type_id)" > {{ itr.description }}</option>
                  </select>
                  
                  <input type="hidden" name="patientType" [(ngModel)]="patientType">
                </div>
            </div>
            <div style="width: 40%">
              <label class="">Room / Location</label>
              <div class="input-group">
                <select class="form-control" [(ngModel)]="roomHope" name="dropDownRoom">
                  <option *ngFor="let itr of listRoomHope" [ngValue]="itr">
                    {{itr.name}} - {{itr.code}}
                  </option>
                </select>
              </div>
            </div>
            <div style="width: 40%">
            </div>
          </div>
          <div class="payer-wrap" *ngIf="!txtPayer">
            <div class="d-flex justify-content-between">
              <div style="width: 40%; margin-top: 5px;">
                <label class="">Payer</label>
                <div class="" *ngIf = "!selectedCheckIn.payer_eligibility">
                  <input class="form-control" ngui-auto-complete auto-select-first-item="true" max-num-list="20"
                    value-formatter="name" list-formatter="name" [match-formatted]="true" min-chars="3"
                    [source]="listPayer" name="payer" [(ngModel)]="payer" [disabled]="isCreatedEligibility">
                </div>
                <div class="" *ngIf = "selectedCheckIn.payer_eligibility">
                  <input class="form-control" name="payer" [disabled]="isCreatedEligibility" [value]="selectedCheckIn.payer_name ? selectedCheckIn.payer_name : payer.name">
                </div>
              </div>
              <div style="width: 30%; margin-top: 5px;">
                <label class="">Payer No</label>
                <div class="input-group">
                  <input type="text" class="form-control" name="payerNo" [(ngModel)]="payerNo" [disabled]="isCreatedEligibility">
                </div>
              </div>
              <div style="width: 30%; margin-top: 5px;">
                <label class="">Payer Eligibility No</label>
                <div class="input-group">
                  <input type="text" class="form-control" name="payerEligibility" [(ngModel)]="payerEligibility" [value]="payerEligibility"
                    [disabled]="isCreatedEligibility">
                </div>
              </div>
            </div>
            <!-- check if bridging -->
            <div *ngIf="isBridging"> 
              <div class="d-flex justify-content-between">
                <div style="width: 40%; margin-top: 5px;">
                  <label class="">Referral Source</label>
                  <div class="">
                       <input class="form-control"  type="text" name="referralSource" [disabled]="(payer == null || payer == '') || isCreatedEligibility " 
                       placeholder="Click to search" (click)="searchReferralSource()" [value]="referralSource ? referralSource.referralName : ''">
                  </div>
                </div>
                <div style="width: 30%; margin-top: 5px;">
                  <label class="">Referral No</label>
                  <div class="input-group">
                    <input type="text"  class="form-control" name="referralNo" [(ngModel)]="referralNo" [disabled]="isCreatedEligibility">
                  </div>
                </div>
                <div style="width: 30%; margin-top: 5px;">
                  <label class="">Referral Date</label>
                  <div class="input-group">
                    <input class="form-control"
                      name="referralDate"
                      [(ngModel)]="referralDateModel"
                      ngbDatepicker #d="ngbDatepicker"
                      [disabled] = "isCreatedEligibility"
                    >
                    <div class="input-group-append">
                      <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button">
                        <i class="fa fa-calendar" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                </div> 
              </div>
            <div class="d-flex justify-content-start">
              <!-- <div style="width: 8%; margin-top: 5px; margin-right: 2px;">
                <label class="">Diagnose</label>
                <div class="">
                  <input class="form-control"  [value]="diagnose ? diagnose.code  ? diagnose.code : '' : ''" readonly>
                </div>
              </div> -->
              <div style="width: 40%; margin-top: 5px;">
                <label class="">Diagnose</label>
                <div class="input-group">
                  <input class="form-control"  placeholder="Click to search"
                  (click)="searchDiagnose()"
                   name="diagnose"  [value]="diagnose ? diagnose.code  + ' - ' + diagnose.name : ''"
                   [disabled]="isCreatedEligibility" >
                </div>
              </div>
              <div style="width: 30%; margin-top: 5px; margin-left: 20px;">
                <label class="">Payer Notes</label>
                <div class="input-group">
                  <input type="text" class="form-control" name="registNotes" [(ngModel)]="registNotes" [disabled]="isCreatedEligibility">
                </div>
              </div>
            </div> 
          </div>
          </div>
          <br>
        <div class="d-flex">
          <div style="width: 10%; margin-top: 5px;">
            <label class="">Form Signed</label>
            <div class="">
              <input class="form-control checkbox-upload" style="margin-left: 1.8em;" type="checkbox" [(ngModel)]="isSigned">
            </div>
          </div>
          <div style="width: 40%; margin-top: 5px;">
            <label class="">Email</label>
            <div class="">
              <input type="text" class="form-control" name="email" [(ngModel)]="email">
            </div>
          </div>
          <div style="width: 30%; margin-top: 5px;">
            <label class="">Notes</label>
            <div class="input-group">
              <input type="text" class="form-control" name="notes" [(ngModel)]="notes">
            </div>
          </div>
        </div>
      </div>
      <div>
        <div class="d-flex justify-content-end">
          <button *ngIf="isBridging" style="width: 120px;" type="button" class="fo_btn_admission button btn-primary"
          [disabled]="(this.payer == null || this.payer == '') || (this.payerNo == null || this.payerNo == '') || isCreatedEligibility"
          (click)="checkEligible()"
        > Create Eligibility </button>
        <button *ngIf="isBridging" style="width: 120px;" type="button" class="fo_btn_admission button btn-warning"
        [disabled]="txtPayerEligibility"
        (click)="printSjp()"
        > Print Eligibility </button>
          <button *ngIf="!selectedCheckIn.admission_id" class="fo_btn_admission fo_btn_save"
            [disabled]="buttonCreateAdmission || isLoadingCreateAdmission"
            (click)="createAdmission(selectedCheckIn, confirmCreateAdmissionProcess)">Create Admission</button>
          <button style="width: 120px;" class="fo_btn_admission fo_btn_blue" [disabled]="buttonPatientLabel && !selectedCheckIn.admission_id"
            (click)="printPatientLabel(selectedCheckIn)">Print Patient</button>
          <button class="fo_btn_admission fo_btn_black" [disabled]="buttonPrintQueue && !selectedCheckIn.admission_id"
            (click)="printQueue(queueNumber, close_adm)">Print Queue Number</button>
        </div>
        <div class="modal-message">
          <img *ngIf="isLoadingCreateAdmission"
            src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
          <span *ngIf="isLoadingCreateAdmission">Loading... Please wait, we are creating the admission now...</span>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #confirmCreateAdmissionProcess let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Confirmation</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Patient has outstanding registrations / admissions. Do you want to register / admit patient ?</p>
    <p>Outstanding registration / admission :</p>
    <br>
    <div *ngFor="let itr of listActiveAdmission">
      {{itr.admissionNo}}
    </div>
    <div class="fo_confirmation_button d-flex justify-content-center">
      <button type="button" class="btn fo_btn_green" (click)="processCreateAdmission(selectedCheckIn)"
        (click)="c('Cross click')">Yes</button>
      <button type="button" class="btn fo_btn_black" (click)="c('Cross click')">No</button>
    </div>
  </div>
</ng-template>

<ng-template #queueNumber let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h3 class="modal-title">Admission <small>| Print Queue Number</small></h3>
    <button #close_button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div *ngIf="!resQueue" class="form-group" [ngStyle]="{'text-align': 'center'}">
      <button class="btn btn-primary col-md-2" [disabled]="buttonReguler"
        (click)="printQueueAction(selectedCheckIn, true, close_button)">Reguler
      </button>
      <button class="btn btn-success col-md-2" [disabled]="buttonVIP"
        (click)="printQueueAction(selectedCheckIn, false, close_button)">VIP
      </button>
    </div>
    <div *ngIf="resQueue" class="form-group" [ngStyle]="{'text-align': 'center'}">
      <button class="btn btn-success" (click)="printQueueTicket(selectedCheckIn)">Print Queue Ticket</button>
    </div>
  </div>
  <div class="modal-footer">
    <div class="form-group">
      <div *ngFor="let alert of alerts">
        <ngb-alert *ngIf="alert" type="{{cssAlertType(alert)}}" (close)="removeAlert(alert)">{{ alert.message }}
        </ngb-alert>
      </div>
    </div>
    <h3 *ngIf="resQueue"> {{ resQueue.name }}</h3>
  </div>
</ng-template>

<ng-template #confirmLocalMrCreate let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Confirmation</h4>
    <button #cls_btn_confirm type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ngb-alert *ngIf="successMessage4" type="success" (close)="successMessage4 = null">{{ successMessage4 }}</ngb-alert>
    <ngb-alert *ngIf="errorMessage4" type="danger" (close)="errorMessage4 = null">{{ errorMessage4 }}</ngb-alert>
    <div>This patient already register in another siloam hospitals. This is of patient information : </div>
    <div>Name : {{ selectedCheckIn.contact_name }}</div>
    <div>Birthdate : {{ selectedCheckIn.custome_birth_date }}</div>
    <div>Address : {{ selectedCheckIn.current_address }}</div>
    <div>Phone : {{ selectedCheckIn.phone_number }}</div>

    <div class="fo_confirmation_button d-flex justify-content-center">
      <button type="button" class="btn fo_btn_green"
        (click)="buildMrLocal(selectedCheckIn, cls_btn_confirm, checkInOldPatient, confirmDocument)" (click)="c('Cross click')">Create MR
        Local
      </button>
      <!-- <button type="button" class="btn fo_btn_blue" (click)="newPatient()" (click)="c('Cross click')">New Patient
      </button> -->
      <button type="button" class="btn fo_btn_black" (click)="c('Cross click')">Cancel</button>
    </div>
  </div>
</ng-template>

<ng-template #confirmCreateMr let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Confirmation</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Are you sure to create MR Local ?</p>
    <div class="fo_confirmation_button d-flex justify-content-center">
      <button type="button" class="btn fo_btn_green"
        (click)="processCreateMrLocal()"
        (click)="c('Cross click')">Ok</button>
      <button type="button" class="btn fo_btn_black" (click)="c('Cross click')">Cancel</button>
    </div>
  </div>
</ng-template>

<ng-template #confirmAdmission let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Confirmation</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Are you sure to create admission ?</p>
    <div class="fo_confirmation_button d-flex justify-content-center">
      <button type="button" class="btn fo_btn_green"
        (click)="createAdmTeleconsultation()"
        (click)="c('Cross click')">Ok</button>
      <button type="button" class="btn fo_btn_black" (click)="c('Cross click')">Cancel</button>
    </div>
  </div>
</ng-template>

<ng-template #confirmDocument let-modal let-c="close">
  <div class="modal-header">
    <div class="header-2 modal-padding" *ngIf="selectedCheckIn?.contact_name">{{selectedCheckIn.contact_name}} {{selectedCheckIn.custome_birth_date}} | Document uploads</div>
    <button #cls_confirm_document type="button" class="close" aria-label="Close" (click)="c('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-ca-phoneno form-group row" style="font-weight: bold; margin-top: 1em;">
      <div class="col-md-5">
        <div class="row space-text-two">
          <div class="col-md-12">
            Kartu BPJS*
          </div>
        </div>
        <div class="row space-text-two">
          <div class="col-md-12">
            KTP
          </div>
        </div>
        <div class="row space-text-two">
          <div class="col-md-12">
            Kartu Keluarga
          </div>
        </div>
        <div class="row space-text-two">
          <div class="col-md-12">
            Surat Rujukan/Surat Keterangan*
          </div>
        </div>
        <div class="row space-text-two">
          <div class="col-md-12">
            Surat kontrol
          </div>
        </div>
      </div>
      <div class="col-md-5" style="padding-left: 0;">
        <div class="row space-text">
          <div class="col-md-5" style="padding-left: 0" *ngIf="selectedCheckIn?.bpjs_card_file">
            <span style="margin-left: 2.5em;">
              <a href=":javascript"
              (click)="getImage(selectedCheckIn.bpjs_card_file)"
              target="_blank">View<br></a>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0">
            <button type="button" class="btn ms_btn_blue_module" [disabled]="flagFile1 || checkListModel.checkOne === true" (click)="fileInputOne.click()">
              <span *ngIf="!selectedCheckIn?.bpjs_card_file">Upload</span>
              <span *ngIf="selectedCheckIn?.bpjs_card_file">Re-upload</span>
              <input #fileInputOne type="file" (change)="upload($event, 'bpjsCard')" style="display:none;" accept="application/pdf, .jpg, .jpeg"/>
            </button>
          </div>
          <div class="col-md-3">
            <span *ngIf="flagFile1">
              <ngb-progressbar type="success" value="500" [striped]="true" height="2.3rem" [animated]="true">Loading...</ngb-progressbar>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0" *ngIf="!selectedCheckIn?.bpjs_card_file">
            <input class="form-control checkbox-upload" type="checkbox" (change)="changeCheckbox('1')" [(ngModel)]="checkListModel.checkOne">
          </div>
        </div>
        <div class="row space-text">
          <div class="col-md-5" style="padding-left: 0" *ngIf="selectedCheckIn?.identity_card_file">
            <span style="margin-left: 2.5em;">
              <a href=":javascript"
              (click)="getImage(selectedCheckIn.identity_card_file)"
              target="_blank">View<br></a>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0">
            <button type="button" class="btn ms_btn_blue_module" [disabled]="flagFile2 || checkListModel.checkTwo === true" (click)="fileInputTwo.click()">
              <span *ngIf="!selectedCheckIn?.identity_card_file">Upload</span>
              <span *ngIf="selectedCheckIn?.identity_card_file">Re-upload</span>
              <input #fileInputTwo type="file" (change)="upload($event, 'identityCard')" style="display:none;" accept="application/pdf, .jpg, .jpeg"/>
            </button>
          </div>
          <div class="col-md-3">
            <span *ngIf="flagFile2">
              <ngb-progressbar type="success" value="1000" [striped]="true" height="2.3rem" [animated]="true">Loading...</ngb-progressbar>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0" *ngIf="!selectedCheckIn?.identity_card_file">
            <input class="form-control checkbox-upload" type="checkbox" (change)="changeCheckbox('2')" [(ngModel)]="checkListModel.checkTwo">
          </div>
        </div>
        <div class="row space-text">
          <div class="col-md-5" style="padding-left: 0" *ngIf="selectedCheckIn?.family_card_file">
            <span style="margin-left: 2.5em;">
              <a href=":javascript"
              (click)="getImage(selectedCheckIn.family_card_file)"
              target="_blank">View<br></a>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0">
            <button type="button" class="btn ms_btn_blue_module" [disabled]="flagFile3 || checkListModel.checkThree === true" (click)="fileInputThree.click()">
              <span *ngIf="!selectedCheckIn?.family_card_file">Upload</span>
              <span *ngIf="selectedCheckIn?.family_card_file">Re-upload</span>
              <input #fileInputThree type="file" (change)="upload($event, 'familyCard')" style="display:none;" accept="application/pdf, .jpg, .jpeg"/>
            </button>
          </div>
          <div class="col-md-3">
            <span *ngIf="flagFile3">
              <ngb-progressbar type="success" value="1000" [striped]="true" height="2.3rem" [animated]="true">Loading...</ngb-progressbar>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0" *ngIf="!selectedCheckIn?.family_card_file">
            <input class="form-control checkbox-upload" type="checkbox" (change)="changeCheckbox('3')" [(ngModel)]="checkListModel.checkThree">
          </div>
        </div>
        <div class="row space-text">
          <div class="col-md-5" style="padding-left: 0" *ngIf="selectedCheckIn?.refference_letter_file">
            <span style="margin-left: 2.5em;">
              <a href=":javascript"
              (click)="getImage(selectedCheckIn.refference_letter_file)"
              target="_blank">View<br></a>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0">
            <button type="button" class="btn ms_btn_blue_module" [disabled]="flagFile4 || checkListModel.checkFour === true" (click)="fileInputFour.click()">
              <span *ngIf="!selectedCheckIn?.refference_letter_file">Upload</span>
              <span *ngIf="selectedCheckIn?.refference_letter_file">Re-upload</span>
              <input #fileInputFour type="file" (change)="upload($event, 'referenceLetter')" style="display:none;" accept="application/pdf, .jpg, .jpeg"/>
            </button>
          </div>
          <div class="col-md-3">
            <span *ngIf="flagFile4">
              <ngb-progressbar type="success" value="1000" [striped]="true" height="2.3rem" [animated]="true">Loading...</ngb-progressbar>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0" *ngIf="!selectedCheckIn?.refference_letter_file">
            <input class="form-control checkbox-upload" type="checkbox" (change)="changeCheckbox('4')" [(ngModel)]="checkListModel.checkFour">
          </div>
        </div>
        <div class="row space-text">
          <div class="col-md-5" style="padding-left: 0" *ngIf="selectedCheckIn?.control_letter_file">
            <span style="margin-left: 2.5em;">
              <a href=":javascript"
              (click)="getImage(selectedCheckIn.control_letter_file)"
              target="_blank">View<br></a>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0">
            <button type="button" class="btn ms_btn_blue_module" [disabled]="flagFile5 || checkListModel.checkFive === true" (click)="fileInputFive.click()">
              <span *ngIf="!selectedCheckIn?.control_letter_file">Upload</span>
              <span *ngIf="selectedCheckIn?.control_letter_file">Re-upload</span>
              <input #fileInputFive type="file" (change)="upload($event, 'controlLetter')" style="display:none;" accept="application/pdf, .jpg, .jpeg"/>
            </button>
          </div>
          <div class="col-md-3">
            <span *ngIf="flagFile5">
              <ngb-progressbar type="success" value="1000" [striped]="true" height="2.3rem" [animated]="true">Loading...</ngb-progressbar>
            </span>
          </div>
          <div class="col-md-4" style="padding-left: 0" *ngIf="!selectedCheckIn?.control_letter_file">
            <input class="form-control checkbox-upload" type="checkbox" (change)="changeCheckbox('5')" [(ngModel)]="checkListModel.checkFive">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn ms_btn_green" 
    [disabled]="!(selectedCheckIn.bpjs_card_file && selectedCheckIn.refference_letter_file) && !(checkListModel.checkOne === true && checkListModel.checkFour === true)" 
    (click)="afterUploadCheckIn(checkInOldPatient, cls_confirm_document)">Continue</button>
    <button type="button" class="btn ms_btn_red" (click)="c('Cross click')">Cancel</button>
  </div>
</ng-template>

<!-- <ng-template #lakaLantas let-modal let-c="close">
  <div class="modal-header">
    <div class="header-2 modal-padding">Jaminan</div>
    <button #cls_btn_confirm type="button" class="close" aria-label="Close" (click)="c('Cross click')" (click)="cancelLakaLantas()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="fo_create_admission_body_two">
      <div class="row">
        <div class="col-md-1" style="padding-right: 0;">
          <input class="form-control inter-checkbox" type="checkbox" name="isLakaLantas" [(ngModel)]="isLakaLantas" disabled>
        </div>
        <div class="col-md-11" style="padding-left: 0; margin-left: -1.5em;">
          Laka Lantas
        </div>
      </div>
      <div style="width: 100%">
        <ngb-tabset>
          <ngb-tab title="Penjamin">
            <ng-template ngbTabContent>
              <div class="form-group">
                <div class="row" style="margin-top: 1em;">
                  <div class="col-md-2">
                    Penjamin
                  </div>
                  <div class="col-md-9">
                    <input class="form-control" [(ngModel)]="lakaLantasAssurance.penjamin">
                  </div>
                </div>
                <div class="row" style="margin-top: 0.5em;">
                  <div class="col-md-2">
                    Tgl Kejadian
                  </div>
                  <div class="col-md-9">
                    <input class="form-control" [textMask]="{mask: mask_birth}" name="birth" [(ngModel)]="lakaLantasAssurance.tglKejadian" placeholder="dd-mm-yyyy">
                  </div>
                </div>
                <div class="row" style="margin-top: 0.5em;">
                  <div class="col-md-2">
                    Keterangan
                  </div>
                  <div class="col-md-9">
                    <input class="form-control" [(ngModel)]="lakaLantasAssurance.keterangan">
                  </div>
                </div>
              </div>
            </ng-template>
          </ngb-tab>
    
          <ngb-tab title="Suplesi">
            <ng-template ngbTabContent>
              <div class="form-group">
                <div class="row" style="margin-top: 1em; margin-bottom: 0.5em;">
                  <div class="col-md-3">
                  </div>
                  <div class="col-md-1" style="padding-right: 0;">
                    <input class="form-control inter-checkbox" type="checkbox" name="sepSuplesi" (change)="suplesiCheckBox()" [(ngModel)]="suplesi.suplesi">
                  </div>
                  <div class="col-md-8" style="padding-left: 0; margin-left: -1.5em;">
                    Is Suplesi
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3">
                    No SEP Suplesi
                  </div>
                  <div class="col-md-7">
                    <input class="form-control" [(ngModel)]="suplesi.noSepSuplesi">
                  </div>
                  <div class="col-md-2">
                    <button class="btn ms_btn_green">Search</button>
                  </div>
                </div>
              </div>
            </ng-template>
          </ngb-tab>

          <ngb-tab title="Lokasi Laka">
            <ng-template ngbTabContent>
              <div class="form-group">
                <div class="row" style="margin-top: 1em;">
                  <div class="col-md-2">
                    Provinsi
                  </div>
                  <div class="col-md-10">
                    <select class="form-control" [(ngModel)]="lokasiLakaBody.kdPropinsi" name="province" (change)="districtLakaLantas()">
                      <option *ngFor="let prov of listProvince" [ngValue]="prov.kode">{{prov.nama}}</option>
                    </select>
                  </div>
                </div>
                <div class="row" style="margin-top: 0.5em;">
                  <div class="col-md-2">
                    Kabupaten
                  </div>
                  <div class="col-md-10">
                    <select class="form-control" [(ngModel)]="lokasiLakaBody.kdKabupaten" name="district" (change)="subDistrictLakaLantas()">
                      <option *ngFor="let dist of listDistrict" [ngValue]="dist.kode">{{dist.nama}}</option>
                    </select>
                  </div>
                </div>
                <div class="row" style="margin-top: 0.5em;">
                  <div class="col-md-2">
                    Kecamatan
                  </div>
                  <div class="col-md-10">
                    <select class="form-control" [(ngModel)]="lokasiLakaBody.kdKecamatan" name="subDistrict">
                      <option *ngFor="let subDist of listSubDistrict" [ngValue]="subDist.kode">{{subDist.nama}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </ng-template>
          </ngb-tab>
      </ngb-tabset>
      </div>
        
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn ms_btn_green" [disabled]="!selectedCheckIn.bpjs_card_file" (click)="c('Cross click')">Continue</button>
    <button type="button" class="btn ms_btn_red" (click)="c('Cross click')" (click)="cancelLakaLantas()">Cancel</button>
  </div>
</ng-template> -->